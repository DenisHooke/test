var app=angular.module("app",[]);app.config(function(t){t.startSymbol("[[").endSymbol("]]")}).controller("appController",["$scope","$http","$timeout",function(t,e,r){var a=appContainer;t.load=function(){a.settings.tracksLoaded||(a.loading=!0,r.cancel(a.settings.timeout),a.settings.timeout=r(function(){e.get(a.settings.routing.loadTracks,{params:{page:a.settings.page++,sort:a.sort.field,order:a.sort.order,filter:a.filter}}).then(function(t){var e=a.data;t.data.tracks.length<a.settings.itemsPerPage&&(a.settings.tracksLoaded=!0),e.tracks=e.tracks.concat(t.data.tracks),e.filter=t.data.filter,a.loading=!1})},a.settings.httpDelay))},t.sort=function(){a.loading=!0,e.get(a.settings.routing.sortTracks,{params:{page:a.settings.page,sort:a.sort.field,order:a.sort.order,filter:a.filter}}).then(function(t){var e=a.data;e.tracks=t.data.tracks,a.loading=!1})},t.filter=function(){a.loading=!0,r.cancel(a.settings.timeout),a.settings.timeout=r(function(){e.get(a.settings.routing.loadTracks,{params:{page:a.settings.page,sort:a.sort.field,order:a.sort.order,filter:a.filter}}).then(function(t){var e=a.data;e.tracks=t.data.tracks,a.loading=!1})},a.settings.httpDelay)},t.app=a}]).directive("scroll",function(t){return function(e){angular.element(t).bind("scroll",function(){this.pageYOffset+this.outerHeight>=$(document).height()-200&&e.load(),e.$apply()})}}).filter("formatDuration",function(){return function(t){var e=parseInt(t/60,10),r=t%60,r=10>r?"0"+r:r;return e+":"+r}});var appContainer=function(){return{loading:!1,settings:{},sort:{field:"name",order:"asc",set:function(t){this.sort.field=t,this.sort.order="asc"==this.sort.order?"desc":"asc",$scope.sort()}},filter:{value:{},set:function(t,e){this.filter.value[t].push(e)}},data:{tracks:[],filter:[]},init:function(t){this.settings=t}}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGludGVycG9sYXRlUHJvdmlkZXIiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkaHR0cCIsIiR0aW1lb3V0IiwiYXBwQ29udGFpbmVyIiwibG9hZCIsInNldHRpbmdzIiwidHJhY2tzTG9hZGVkIiwibG9hZGluZyIsImNhbmNlbCIsInRpbWVvdXQiLCJnZXQiLCJyb3V0aW5nIiwibG9hZFRyYWNrcyIsInBhcmFtcyIsInBhZ2UiLCJzb3J0IiwiZmllbGQiLCJvcmRlciIsImZpbHRlciIsInRoZW4iLCJyZXNwb25zZSIsImRhdGEiLCJ0cmFja3MiLCJsZW5ndGgiLCJpdGVtc1BlclBhZ2UiLCJjb25jYXQiLCJodHRwRGVsYXkiLCJzb3J0VHJhY2tzIiwiZGlyZWN0aXZlIiwiJHdpbmRvdyIsInNjb3BlIiwiZWxlbWVudCIsImJpbmQiLCJ0aGlzIiwicGFnZVlPZmZzZXQiLCJvdXRlckhlaWdodCIsIiQiLCJkb2N1bWVudCIsImhlaWdodCIsIiRhcHBseSIsImR1cmF0aW9uIiwibWludXRlcyIsInBhcnNlSW50Iiwic2Vjb25kcyIsInNldCIsInZhbHVlIiwia2V5IiwicHVzaCIsImluaXQiLCJzZXR0aW5zIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxLQUFNQyxRQUFRQyxPQUFPLFNBQ3pCRixLQUFJRyxPQUFPLFNBQVVDLEdBQ2JBLEVBQXFCQyxZQUFZLE1BQU1DLFVBQVUsUUFFcERDLFdBQVcsaUJBQWtCLFNBQVUsUUFBUyxXQUFZLFNBQVVDLEVBQVFDLEVBQU9DLEdBRWxGLEdBQUlWLEdBQU1XLFlBRVZILEdBQU9JLEtBQU8sV0FHTlosRUFBSWEsU0FBU0MsZUFFakJkLEVBQUllLFNBQVUsRUFDZEwsRUFBU00sT0FBT2hCLEVBQUlhLFNBQVNJLFNBRzdCakIsRUFBSWEsU0FBU0ksUUFBVVAsRUFBUyxXQUc1QkQsRUFDS1MsSUFBSWxCLEVBQUlhLFNBQVNNLFFBQVFDLFlBQ3RCQyxRQUNJQyxLQUFNdEIsRUFBSWEsU0FBU1MsT0FDbkJDLEtBQU12QixFQUFJdUIsS0FBS0MsTUFDZkMsTUFBT3pCLEVBQUl1QixLQUFLRSxNQUNoQkMsT0FBUTFCLEVBQUkwQixVQUduQkMsS0FBSyxTQUFVQyxHQUVaLEdBQUlDLEdBQU83QixFQUFJNkIsSUFHWEQsR0FBU0MsS0FBS0MsT0FBT0MsT0FBUy9CLEVBQUlhLFNBQVNtQixlQUMzQ2hDLEVBQUlhLFNBQVNDLGNBQWUsR0FHaENlLEVBQUtDLE9BQVNELEVBQUtDLE9BQU9HLE9BQU9MLEVBQVNDLEtBQUtDLFFBQy9DRCxFQUFLSCxPQUFTRSxFQUFTQyxLQUFLSCxPQUU1QjFCLEVBQUllLFNBQVUsS0FJdkJmLEVBQUlhLFNBQVNxQixhQUVoQjFCLEVBQU9lLEtBQU8sV0FFVnZCLEVBQUllLFNBQVUsRUFDZE4sRUFDS1MsSUFBSWxCLEVBQUlhLFNBQVNNLFFBQVFnQixZQUN0QmQsUUFDSUMsS0FBTXRCLEVBQUlhLFNBQVNTLEtBQ25CQyxLQUFNdkIsRUFBSXVCLEtBQUtDLE1BQ2ZDLE1BQU96QixFQUFJdUIsS0FBS0UsTUFDaEJDLE9BQVExQixFQUFJMEIsVUFHbkJDLEtBQUssU0FBVUMsR0FFWixHQUFJQyxHQUFPN0IsRUFBSTZCLElBQ2ZBLEdBQUtDLE9BQVNGLEVBQVNDLEtBQUtDLE9BQzVCOUIsRUFBSWUsU0FBVSxLQUsxQlAsRUFBT2tCLE9BQVMsV0FFWjFCLEVBQUllLFNBQVUsRUFDZEwsRUFBU00sT0FBT2hCLEVBQUlhLFNBQVNJLFNBRzdCakIsRUFBSWEsU0FBU0ksUUFBVVAsRUFBUyxXQUc1QkQsRUFDS1MsSUFBSWxCLEVBQUlhLFNBQVNNLFFBQVFDLFlBQ3RCQyxRQUNJQyxLQUFNdEIsRUFBSWEsU0FBU1MsS0FDbkJDLEtBQU12QixFQUFJdUIsS0FBS0MsTUFDZkMsTUFBT3pCLEVBQUl1QixLQUFLRSxNQUNoQkMsT0FBUTFCLEVBQUkwQixVQUduQkMsS0FBSyxTQUFVQyxHQUVaLEdBQUlDLEdBQU83QixFQUFJNkIsSUFDZkEsR0FBS0MsT0FBU0YsRUFBU0MsS0FBS0MsT0FDNUI5QixFQUFJZSxTQUFVLEtBSXZCZixFQUFJYSxTQUFTcUIsWUFHeEIxQixFQUFPUixJQUFNQSxLQUVoQm9DLFVBQVUsU0FBVSxTQUFVQyxHQUMzQixNQUFPLFVBQVVDLEdBQ2JyQyxRQUFRc0MsUUFBUUYsR0FBU0csS0FBSyxTQUFVLFdBRWhDQyxLQUFLQyxZQUFjRCxLQUFLRSxhQUFlQyxFQUFFQyxVQUFVQyxTQUFXLEtBRTlEUixFQUFNMUIsT0FHVjBCLEVBQU1TLGNBSWpCckIsT0FBTyxpQkFBa0IsV0FDdEIsTUFBTyxVQUFVc0IsR0FFYixHQUFJQyxHQUFVQyxTQUFTRixFQUFXLEdBQUksSUFDbENHLEVBQVVILEVBQVcsR0FDckJHLEVBQXFCLEdBQVZBLEVBQWdCLElBQU1BLEVBQVVBLENBRy9DLE9BQU9GLEdBQVUsSUFBTUUsSUFJbkMsSUFBSXhDLGNBQWUsV0FDZixPQUVJSSxTQUFTLEVBQ1RGLFlBQ0FVLE1BQ0lDLE1BQU8sT0FDUEMsTUFBTyxNQUNQMkIsSUFBSyxTQUFVQyxHQUNYWixLQUFLbEIsS0FBS0MsTUFBUTZCLEVBQ2xCWixLQUFLbEIsS0FBS0UsTUFBNEIsT0FBbkJnQixLQUFLbEIsS0FBS0UsTUFBa0IsT0FBUyxNQUV4RGpCLE9BQU9lLFNBR2ZHLFFBQ0kyQixTQUNBRCxJQUFLLFNBQVVFLEVBQUtELEdBQ2hCWixLQUFLZixPQUFPMkIsTUFBTUMsR0FBS0MsS0FBS0YsS0FHcEN4QixNQUNJQyxVQUNBSixXQUdKOEIsS0FBTSxTQUFVQyxHQUNaaEIsS0FBSzVCLFNBQVc0QyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJhcHBcIiwgW10pO1xyXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkaW50ZXJwb2xhdGVQcm92aWRlcikge1xyXG4gICAgICAgICRpbnRlcnBvbGF0ZVByb3ZpZGVyLnN0YXJ0U3ltYm9sKCdbWycpLmVuZFN5bWJvbCgnXV0nKTtcclxuICAgIH0pXHJcbiAgICAuY29udHJvbGxlcignYXBwQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICR0aW1lb3V0KSB7XHJcblxyXG4gICAgICAgIHZhciBhcHAgPSBhcHBDb250YWluZXI7XHJcblxyXG4gICAgICAgICRzY29wZS5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgLy8g0JXRgdC70Lgg0LLRgdC1INGC0YDQtdC60Lgg0LfQsNCz0YDRg9C20LXQvdGLXHJcbiAgICAgICAgICAgIGlmIChhcHAuc2V0dGluZ3MudHJhY2tzTG9hZGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBhcHAubG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChhcHAuc2V0dGluZ3MudGltZW91dCk7XHJcblxyXG5cclxuICAgICAgICAgICAgYXBwLnNldHRpbmdzLnRpbWVvdXQgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICRodHRwXHJcbiAgICAgICAgICAgICAgICAgICAgLmdldChhcHAuc2V0dGluZ3Mucm91dGluZy5sb2FkVHJhY2tzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogYXBwLnNldHRpbmdzLnBhZ2UrKyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnQ6IGFwcC5zb3J0LmZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGFwcC5zb3J0Lm9yZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiBhcHAuZmlsdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBhcHAuZGF0YTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS50cmFja3MubGVuZ3RoIDwgYXBwLnNldHRpbmdzLml0ZW1zUGVyUGFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLnNldHRpbmdzLnRyYWNrc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudHJhY2tzID0gZGF0YS50cmFja3MuY29uY2F0KHJlc3BvbnNlLmRhdGEudHJhY2tzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5maWx0ZXIgPSByZXNwb25zZS5kYXRhLmZpbHRlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSwgYXBwLnNldHRpbmdzLmh0dHBEZWxheSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAgICAgJHNjb3BlLnNvcnQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJGh0dHBcclxuICAgICAgICAgICAgICAgICAgICAuZ2V0KGFwcC5zZXR0aW5ncy5yb3V0aW5nLnNvcnRUcmFja3MsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBhcHAuc2V0dGluZ3MucGFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnQ6IGFwcC5zb3J0LmZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGFwcC5zb3J0Lm9yZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiBhcHAuZmlsdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBhcHAuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS50cmFja3MgPSByZXNwb25zZS5kYXRhLnRyYWNrcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChhcHAuc2V0dGluZ3MudGltZW91dCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGFwcC5zZXR0aW5ncy50aW1lb3V0ID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldChhcHAuc2V0dGluZ3Mucm91dGluZy5sb2FkVHJhY2tzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBhcHAuc2V0dGluZ3MucGFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0OiBhcHAuc29ydC5maWVsZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogYXBwLnNvcnQub3JkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiBhcHAuZmlsdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gYXBwLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnRyYWNrcyA9IHJlc3BvbnNlLmRhdGEudHJhY2tzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sIGFwcC5zZXR0aW5ncy5odHRwRGVsYXkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5hcHAgPSBhcHA7XHJcbiAgICB9XSlcclxuICAgIC5kaXJlY3RpdmUoXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCR3aW5kb3cpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlKSB7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYWdlWU9mZnNldCArIHRoaXMub3V0ZXJIZWlnaHQgPj0gJChkb2N1bWVudCkuaGVpZ2h0KCkgLSAyMDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSlcclxuICAgIC5maWx0ZXIoJ2Zvcm1hdER1cmF0aW9uJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZHVyYXRpb24pIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBtaW51dGVzID0gcGFyc2VJbnQoZHVyYXRpb24gLyA2MCwgMTApLFxyXG4gICAgICAgICAgICAgICAgc2Vjb25kcyA9IGR1cmF0aW9uICUgNjAsXHJcbiAgICAgICAgICAgICAgICBzZWNvbmRzID0gKHNlY29uZHMgPCAxMCkgPyBcIjBcIiArIHNlY29uZHMgOiBzZWNvbmRzXHJcbiAgICAgICAgICAgICAgICA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbWludXRlcyArIFwiOlwiICsgc2Vjb25kcztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbnZhciBhcHBDb250YWluZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHtcclxuXHJcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgc2V0dGluZ3M6IHt9LFxyXG4gICAgICAgIHNvcnQ6IHtcclxuICAgICAgICAgICAgZmllbGQ6ICduYW1lJyxcclxuICAgICAgICAgICAgb3JkZXI6ICdhc2MnLFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0LmZpZWxkID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvcnQub3JkZXIgPSAodGhpcy5zb3J0Lm9yZGVyID09ICdhc2MnKSA/ICdkZXNjJyA6ICdhc2MnO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zb3J0KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmaWx0ZXI6IHtcclxuICAgICAgICAgICAgdmFsdWU6IHt9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlci52YWx1ZVtrZXldLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIHRyYWNrczogW10sXHJcbiAgICAgICAgICAgIGZpbHRlcjogW10sXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKHNldHRpbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbnM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
